



<!DOCTYPE html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="es">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>5. Sprites y Glyphs - Trabajando con VT</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#sprites-y-glyphs" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Trabajando con VT" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Trabajando con VT
              </span>
              <span class="md-header-nav__topic">
                5. Sprites y Glyphs
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/geoinquiets/taller-vt/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Trabajando con VT" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Trabajando con VT
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/geoinquiets/taller-vt/" title="Ir al repositorio" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../1_teoria/" title="1. Qué son" class="md-nav__link">
      1. Qué son
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2_visor_simple/" title="2. Cómo visualizarlas" class="md-nav__link">
      2. Cómo visualizarlas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../3_tileserver_gl/" title="3. Cómo servirlas" class="md-nav__link">
      3. Cómo servirlas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../4_tippecanoe/" title="4. Cómo crearlas" class="md-nav__link">
      4. Cómo crearlas
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        5. Sprites y Glyphs
      </label>
    
    <a href="./" title="5. Sprites y Glyphs" class="md-nav__link md-nav__link--active">
      5. Sprites y Glyphs
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sprites" title="Sprites" class="md-nav__link">
    Sprites
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#como-crear-tus-propios-sprites" title="Cómo crear tus propios sprites" class="md-nav__link">
    Cómo crear tus propios sprites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glyphs" title="Glyphs" class="md-nav__link">
    Glyphs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#como-crear-tus-propios-glyphs" title="Cómo crear tus propios glyphs" class="md-nav__link">
    Cómo crear tus propios glyphs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicio-extra-generar-una-tipografia-a-partir-de-un-conjunto-de-iconos-en-svg" title="Ejercicio extra: Generar una tipografía a partir de un conjunto de iconos en SVG" class="md-nav__link">
    Ejercicio extra: Generar una tipografía a partir de un conjunto de iconos en SVG
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../6_estilos/" title="6. Cómo simbolizarlas" class="md-nav__link">
      6. Cómo simbolizarlas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../7_servidor_dinamico/" title="7. Cómo servir datos dinámicos" class="md-nav__link">
      7. Cómo servir datos dinámicos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../8_postgis_vt/" title="8. Cómo servir datos desde PostGIS" class="md-nav__link">
      8. Cómo servir datos desde PostGIS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../9_geoserver_vts/" title="9. Servir vector tiles desde GeoServer" class="md-nav__link">
      9. Servir vector tiles desde GeoServer
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sprites" title="Sprites" class="md-nav__link">
    Sprites
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#como-crear-tus-propios-sprites" title="Cómo crear tus propios sprites" class="md-nav__link">
    Cómo crear tus propios sprites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glyphs" title="Glyphs" class="md-nav__link">
    Glyphs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#como-crear-tus-propios-glyphs" title="Cómo crear tus propios glyphs" class="md-nav__link">
    Cómo crear tus propios glyphs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicio-extra-generar-una-tipografia-a-partir-de-un-conjunto-de-iconos-en-svg" title="Ejercicio extra: Generar una tipografía a partir de un conjunto de iconos en SVG" class="md-nav__link">
    Ejercicio extra: Generar una tipografía a partir de un conjunto de iconos en SVG
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/geoinquiets/taller-vt/edit/master/docs/5_sprites_glyphs.md" title="Editar esta página" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="sprites-y-glyphs">Sprites y Glyphs</h1>
<h2 id="sprites">Sprites</h2>
<div class="admonition quote">
<p class="admonition-title">Definición</p>
<p>Un <strong>sprite</strong> es una imagen individual que contiene todos los iconos incluidos en un estilo. Al combinar muchas
imágenes pequeñas en una sola imagen (sprite), se puede reducir el número de solicitudes necesarias para recuperar
todas las imágenes, mejorar el rendimiento y hacer que el mapa sea más rápido.</p>
<p>Los Sprites pueden tener un tamaño máximo de 1024x1024 píxeles (o 2048x2048 para pantallas con alta DPI).
Cada sprite viene acompañado de un archivo JSON donde se define el nombre de cada icono, y su posición y tamaño
para saber cómo "recortarlo" de la imagen común.</p>
<p>Más información en sobre sprites <a href="https://www.mapbox.com/help/define-sprite/">https://www.mapbox.com/help/define-sprite/</a></p>
</div>
<p>Cada uno de los iconos contenidos en un sprite se puede usar como textura para el fondo del mapa, patrón de relleno para
un polígono, patrón de dibujo para una línea, o una imagen de icono (símbolo puntual).</p>
<p>La propiedad <code>sprite</code> de un estilo apunta a una URL <strong>incompleta</strong>, a partir de la cual se pueden encontrar los diferentes
ficheros (sprites y json complementario).</p>
<p>Por ejemplo, si en el <code>style.json</code> se indica:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="err">...</span>
    <span class="nt">&quot;sprite&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8081/styles/osm-bright/sprite&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>En realidad dicha URL no existe. Pero sí existen los siguientes recursos (añadiendo <code>.png</code>, <code>.json</code>, <code>@2x.png</code> y <code>@2x.json</code> respectivamente):</p>
<ul>
<li><a href="http://localhost:8081/styles/osm-bright/sprite.png">http://localhost:8081/styles/osm-bright/sprite.png</a> Sprite a resolución convencional</li>
<li><a href="http://localhost:8081/styles/osm-bright/sprite.json">http://localhost:8081/styles/osm-bright/sprite.json</a> JSON que define cada icono dentro del sprite</li>
<li><a href="http://localhost:8081/styles/osm-bright/sprite@2x.png">http://localhost:8081/styles/osm-bright/sprite@2x.png</a> Sprite a resolución doble (para pantallas Retina)</li>
<li><a href="http://localhost:8081/styles/osm-bright/sprite@2x.json">http://localhost:8081/styles/osm-bright/sprite@2x.json</a> JSON que define cada icono dentro del sprite de resolución doble</li>
</ul>
<p>Ejemplo de sprite:</p>
<p><img alt="Sprite" src="../img/sprite.png" /></p>
<p>Uno de los elementos definidos en el JSON:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="err">...</span>
    <span class="nt">&quot;airport_11&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span>
        <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span>
        <span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span>
        <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;pixelRatio&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">},</span>
    <span class="err">....</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<h3 id="como-crear-tus-propios-sprites">Cómo crear tus propios sprites</h3>
<p>Para generar los sprites a partir de imágenes individuales hay que crear los cuatro archivos. Esto se podría hacer
manualmente con un editor de texto, un editor de imágenes y mucha paciencia, pero afortunadamente existen herramientas
que lo automatizan. </p>
<p>Los sprites convencionales para la web difieren de los de Mapbox, ya que utilizan una imagen compuesta <code>png</code> y un archivo
<code>css</code> con las reglas de simbolización para su aprovechamiento en páginas web. Mapbox GL, en cambio, necesita el fichero
<code>json</code>, no un CSS. </p>
<p>Para generar los sprites y sus json a partir de una colección de imágenes en formato SVG, se recomienda el uso de la
librería de Mapbox <a href="https://github.com/mapbox/spritezero-cli">spritezero-cli</a>, de la siguiente manera:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nb">cd</span> ~/Desktop/taller-vt/datos
npm install -g @mapbox/spritezero-cli
spritezero sprite iconos-maki-svg
spritezero --retina sprite@2x iconos-maki-svg
</pre></div>
</td></tr></table>

<p>Una vez generados, los movemos al directorio donde residirá el estilo que los use (en nuestro caso, <code>natural-earth</code>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>mkdir ../tileserver/styles/natural-earth
mv sprite* ../tileserver/styles/natural-earth
</pre></div>
</td></tr></table>

<h2 id="glyphs">Glyphs</h2>
<p>En la propiedad <code>glyphs</code> se indica una plantilla de URL para cargar <em>glyphs</em> codificados en PBF (el formato es
distinto que MVT, ya que el <a href="https://github.com/mapbox/glyph-pbf-composite/blob/master/proto/glyphs.proto"><code>.proto</code></a>
utilizado es distinto), que se usarán para dibujar textos en el mapa. Por ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="err">...</span>
    <span class="nt">&quot;glyphs&quot;</span><span class="p">:</span> <span class="s2">&quot;http://localhost:8081/fonts/{fontstack}/{range}.pbf&quot;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Esta plantilla de URL debe incluir dos tokens:</p>
<ul>
<li><code>{fontstack}</code> es el nombre de la tipografía. Por ejemplo <code>Open Sans Bold</code>.</li>
<li><code>{range}</code> es un rango de 256 puntos de código Unicode (es decir, un subconjunto de letras o símbolos). En función del texto a mostrar, el visor solicitará los rangos necesarios. El primero es <code>0-255</code>.</li>
</ul>
<p>Una petición real tendría la forma:</p>
<ul>
<li><a href="http://localhost:8081/fonts/Open%20Sans%20Bold/0-255.pbf">http://localhost:8081/fonts/Open%20Sans%20Bold/0-255.pbf</a></li>
</ul>
<p>Un glyph contiene una derivada de la tipografía binaria llamada <a href="https://www.youtube.com/watch?v=d8cfgcJR9Tk"><em>signed distance field</em></a>
que permite escalarla sin el pixelado. Una composición de varios glyphs daría una imagen con este aspecto:</p>
<p><img alt="Signed Distance Field Glyph" src="../img/signed_distance_field.png" /></p>
<h3 id="como-crear-tus-propios-glyphs">Cómo crear tus propios glyphs</h3>
<p>Descargar el proyecto de github <code>openmaptiles/fonts</code></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nb">cd</span> ~/Desktop/taller-vt/
wget https://github.com/openmaptiles/fonts/archive/master.zip
unzip master.zip
<span class="nb">cd</span> fonts-master
npm install
node generate.js
</pre></div>
</td></tr></table>

<p>Al cabo de un rato, podemos ver los resultados en el directorio <code>_output</code>.</p>
<p>Si no queremos generar una tipografía determinada, basta con borrar el directorio que la contiene.
Del mismo modo podemos añadir tipografías añadiendo nuevos directorios y copiando dentro las tipografías en
formato TTF. Por ejemplo, para generar "Comic Sans":</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>rm -rf metropolis noto-sans open-sans pt-sans roboto
cp -r ../datos/comic-sans-ms .
node generate.js
</pre></div>
</td></tr></table>

<p>El directorio <code>_output</code> no se borra entre ejecuciones, con lo que habremos conservado todas las fuentes anteriores,
además de la recién generada "Comic Sans".</p>
<p>Finalmente, copiaremos el contenido de <code>_output</code> al directorio <code>tileserver/fonts</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="se">\c</span>p -r _output/* ../tileserver/fonts
</pre></div>
</td></tr></table>

<p>Para que el tileserver publique estos recursos, hay que añadir una propiedad a <code>tileserver/config.json</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;options&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;paths&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;root&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fonts&quot;</span><span class="p">:</span> <span class="s2">&quot;fonts&quot;</span><span class="p">,</span>
      <span class="nt">&quot;styles&quot;</span><span class="p">:</span> <span class="s2">&quot;styles&quot;</span><span class="p">,</span>
      <span class="nt">&quot;mbtiles&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span>
    <span class="p">},</span>
<span class="hll">    <span class="nt">&quot;serveAllFonts&quot;</span><span class="p">:</span> <span class="kc">true</span>
</span>  <span class="p">},</span>
  <span class="err">...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Reiniciando el tileserver para que cargue las nuevas tipografías, podemos ver la lista de
las tipografías disponibles en la dirección <a href="http://localhost:8081/fonts.json">http://localhost:8081/fonts.json</a></p>
<h2 id="ejercicio-extra-generar-una-tipografia-a-partir-de-un-conjunto-de-iconos-en-svg">Ejercicio extra: Generar una tipografía a partir de un conjunto de iconos en SVG</h2>
<p>Si queremos disponer de una colección de iconos monocromáticos de forma más flexible que usando
sprites, los podemos convertir en una tipografía. Esto permitirá aplicar las técnicas de las etiquetas de texto a
nuestros símbolos, como escalarlos sin apreciar pixelado, cambiar su color de base, añadir un halo, etc. </p>
<p>Para transformar un conjunto de iconos SVG en una fuente se pueden utilizar diferentes programas.
Aqui un listado de algunas webs que permiten generar fuentes:</p>
<ul>
<li><a href="https://icomoon.io">https://icomoon.io</a></li>
<li><a href="http://fontello.com/">http://fontello.com/</a></li>
<li><a href="https://glyphter.com/">https://glyphter.com/</a></li>
<li><a href="http://fontastic.me/">http://fontastic.me/</a></li>
</ul>
<p>También podemos generar una fuente propia utilizando el repositorio <a href="https://github.com/gencat/ICGC-fonticon-generator">https://github.com/gencat/ICGC-fonticon-generator</a>,
de la siguiente manera:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nb">cd</span> ~/Desktop/taller-vt
git clone https://github.com/gencat/ICGC-fonticon-generator
npm i -g gulp
<span class="nb">cd</span> ICGC-fonticon-generator/
npm install
gulp iconfont
</pre></div>
</td></tr></table>

<p>Una vez generada la fuente, que encontraremos en <code>iconfont/Geostart-Regular.ttf</code>, podemos generar los glyphs como se ha
explicado en el apartado anterior, y añadirlos al tileserver.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../4_tippecanoe/" title="4. Cómo crearlas" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                4. Cómo crearlas
              </span>
            </div>
          </a>
        
        
          <a href="../6_estilos/" title="6. Cómo simbolizarlas" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                6. Cómo simbolizarlas
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
        
        
          
          <script src="../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../assets/javascripts/lunr/lunr.es.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>